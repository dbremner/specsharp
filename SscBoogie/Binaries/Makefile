BOOGIEROOT=..\..\..\boogie
BOOGIEBINDIR = Binaries
REG_DIR=..\..\SpecSharp\Microsoft.SpecSharp\Registration\Binaries

all: 
	rem Binaries and other files that make up Boogie:
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\AbsInt.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\AbsInt.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\AIFramework.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\AIFramework.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Basetypes.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Basetypes.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Core.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Core.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\ParserHelper.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\ParserHelper.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Graph.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Graph.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Provers.Simplify.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Provers.Simplify.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Provers.SMTLib.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Provers.SMTLib.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Provers.Z3.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Provers.Z3.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\VCExpr.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\VCExpr.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\VCGeneration.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\VCGeneration.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\TypedUnivBackPred2.sx"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\UnivBackPred2.sx"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\UnivBackPred2.smt"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\FSharp.Core.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\FSharp.PowerPack.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Microsoft.Contracts.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\CodeContractsExtender.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\CodeContractsExtender.pdb"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Model.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Model.pdb"
	rem Things needed to build and run SscBoogie:
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\ssc.exe"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\System.Compiler.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\System.Compiler.Contracts.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\System.Compiler.Framework.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\System.Contracts.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Mscorlib.Contracts.dll"
	rem copy /y "$(BOOGIEROOT)\$(BOOGIEBINDIR)\Microsoft.SpecSharp.dll"
	copy /y "$(REG_DIR)\ssc.exe"
	copy /y "$(REG_DIR)\System.Compiler.dll"
	copy /y "$(REG_DIR)\System.Compiler.Contracts.dll"
	copy /y "$(REG_DIR)\System.Compiler.Framework.dll"
	copy /y "$(REG_DIR)\System.Contracts.dll"
	copy /y "$(REG_DIR)\Mscorlib.Contracts.dll"
	copy /y "$(REG_DIR)\Microsoft.SpecSharp.dll"

register: 
	rem Things previously copied here from Boogie:
	copy /y AbsInt.dll "$(REG_DIR)"
	copy /y AbsInt.pdb "$(REG_DIR)"
	copy /y AIFramework.dll "$(REG_DIR)"
	copy /y AIFramework.pdb "$(REG_DIR)"
	copy /y Basetypes.dll "$(REG_DIR)"
	copy /y Basetypes.pdb "$(REG_DIR)"
	copy /y Core.dll "$(REG_DIR)"
	copy /y Core.pdb "$(REG_DIR)"
	copy /y ParserHelper.dll "$(REG_DIR)"
	copy /y ParserHelper.pdb "$(REG_DIR)"
	copy /y Graph.dll "$(REG_DIR)"
	copy /y Graph.pdb "$(REG_DIR)"
	copy /y Provers.Simplify.dll "$(REG_DIR)"
	copy /y Provers.Simplify.pdb "$(REG_DIR)"
	copy /y Provers.SMTLib.dll "$(REG_DIR)"
	copy /y Provers.SMTLib.pdb "$(REG_DIR)"
	copy /y Provers.Z3.dll "$(REG_DIR)"
	copy /y Provers.Z3.pdb "$(REG_DIR)"
	copy /y VCExpr.dll "$(REG_DIR)"
	copy /y VCExpr.pdb "$(REG_DIR)"
	copy /y VCGeneration.dll "$(REG_DIR)"
	copy /y VCGeneration.pdb "$(REG_DIR)"
	copy /y TypedUnivBackPred2.sx "$(REG_DIR)"
	copy /y UnivBackPred2.sx "$(REG_DIR)"
	copy /y UnivBackPred2.smt "$(REG_DIR)"
	copy /y FSharp.Core.dll "$(REG_DIR)"
	copy /y FSharp.PowerPack.dll "$(REG_DIR)"
	copy /y Microsoft.Contracts.dll "$(REG_DIR)"
	copy /y CodeContractsExtender.dll "$(REG_DIR)"
	copy /y CodeContractsExtender.pdb "$(REG_DIR)"
	rem New things built here:
	copy /y Prelude.dll "$(REG_DIR)"
	copy /y Prelude.pdb "$(REG_DIR)"
	copy /y BytecodeTranslation.dll "$(REG_DIR)"
	copy /y BytecodeTranslation.pdb "$(REG_DIR)"
	copy /y DriverHelper.dll "$(REG_DIR)"
	copy /y DriverHelper.pdb "$(REG_DIR)"
	copy /y BoogiePlugin.dll "$(REG_DIR)"
	copy /y BoogiePlugin.pdb "$(REG_DIR)"
	copy /y PRELUDE.bpl "$(REG_DIR)"

zip:
  .\PrepareSpecSharpZip.bat
